<!-- Plugin Configuration File: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <id>me.matsumo.agent-gui-plugin</id>
    <name>Claude Code GUI</name>
    <vendor url="https://github.com/matsumo0922">matsumo</vendor>

    <description><![CDATA[
        GUI interface for Claude Code within IntelliJ IDE.
        Chat with Claude, manage permissions, and view streaming responses.
    ]]></description>

    <dependencies>
        <plugin id="com.intellij.modules.compose"/>
        <plugin id="org.jetbrains.kotlin"/>
        <module name="intellij.platform.jewel.markdown.ideLafBridgeStyling"/>
        <module name="intellij.platform.jewel.markdown.extensions.gfmTables"/>
        <module name="intellij.platform.jewel.markdown.extensions.gfmStrikethrough"/>
        <module name="intellij.platform.jewel.markdown.extensions.gfmAlerts"/>
        <module name="intellij.platform.jewel.markdown.extensions.autolink"/>
    </dependencies>

    <extensions defaultExtensionNs="com.intellij">
        <applicationConfigurable
            parentId="tools"
            instance="me.matsumo.agentguiplugin.settings.AgentGuiSettingsConfigurable"
            id="me.matsumo.agentguiplugin.settings"
            displayName="Agent GUI"/>

        <toolWindow id="Agent GUI"
                    factoryClass="me.matsumo.agentguiplugin.toolwindow.AgentToolWindowFactory"
                    anchor="right"
                    canCloseContents="true"
                    icon="AllIcons.Actions.Execute"/>

        <toolWindow.splitContentProvider
            toolWindowId="Agent GUI"
            implementationClass="me.matsumo.agentguiplugin.toolwindow.AgentSplitContentProvider"/>

        <projectService serviceImplementation="me.matsumo.agentguiplugin.service.SessionService"/>
        <projectService serviceImplementation="me.matsumo.agentguiplugin.service.SessionHistoryService"/>
        <applicationService serviceImplementation="me.matsumo.agentguiplugin.service.SettingsService"/>
    </extensions>

    <extensions defaultExtensionNs="org.jetbrains.kotlin">
        <supportsKotlinPluginMode supportsK2="true"/>
    </extensions>
</idea-plugin>
